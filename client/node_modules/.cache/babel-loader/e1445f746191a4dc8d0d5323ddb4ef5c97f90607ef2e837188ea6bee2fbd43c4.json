{"ast":null,"code":"import _regeneratorRuntime from\"/Users/milan/ReelsFrontEnd/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/milan/ReelsFrontEnd/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/milan/ReelsFrontEnd/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import api from'../../utility';import{Avatar,Button}from'@mui/material';import PersonAddIcon from'@mui/icons-material/PersonAdd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RecievedFriendRequests(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isRequestAccepted=_useState2[0],setFriendRequestAccepted=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFriendRequestRejected=_useState4[0],setFriendRequestRejected=_useState4[1];var acceptFriendRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.patch(\"friend/accept/\".concat(props.request.id));case 3:res=_context.sent;setFriendRequestAccepted(true);if(res.status===200){window.alert(\"Friend Request Accepted\");}else if(res.status===500){window.alert(\"Unable to Accept Friend request\");setFriendRequestAccepted(false);}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);window.alert(_context.t0.message);setFriendRequestAccepted(false);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function acceptFriendRequest(){return _ref.apply(this,arguments);};}();var rejectFriendRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.delete(\"friend/reject/\".concat(props.request.id));case 3:res=_context2.sent;setFriendRequestRejected(true);if(res.status===200){window.alert(\"Friend Request Rejected\");}else if(res.status===500){window.alert(\"Unable to Reject Friend Request\");setFriendRequestRejected(false);}_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);window.alert(_context2.t0.message);setFriendRequestRejected(false);case 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function rejectFriendRequest(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-2 border-b-2 border-grey-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Avatar,{className:\"mr-2\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"mr-4\",children:props.request.fullName})]}),isRequestAccepted?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{disabled:true,color:\"success\",children:\"Accepted\"})}):isFriendRequestRejected?/*#__PURE__*/_jsx(Button,{color:\"error\",disabled:\"true\",children:\"Friend Request Rejected\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{onClick:acceptFriendRequest,variant:\"contained\",className:\"mr-2\",children:\"Accept\"}),/*#__PURE__*/_jsx(Button,{onClick:rejectFriendRequest,variant:\"contained\",color:\"error\",children:\"Reject\"})]})]});}export default RecievedFriendRequests;","map":{"version":3,"names":["React","useState","useEffect","api","Avatar","Button","PersonAddIcon","jsx","_jsx","jsxs","_jsxs","RecievedFriendRequests","props","_useState","_useState2","_slicedToArray","isRequestAccepted","setFriendRequestAccepted","_useState3","_useState4","isFriendRequestRejected","setFriendRequestRejected","acceptFriendRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","patch","concat","request","id","sent","status","window","alert","t0","message","stop","apply","arguments","rejectFriendRequest","_ref2","_callee2","_callee2$","_context2","delete","className","children","fullName","disabled","color","onClick","variant"],"sources":["/Users/milan/ReelsFrontEnd/client/src/Components/Friend/RecievedFriendRequests.jsx"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react'\nimport api from '../../utility';\nimport { Avatar,Button } from '@mui/material';\nimport PersonAddIcon from '@mui/icons-material/PersonAdd';\n\nfunction RecievedFriendRequests(props) {\n    const [isRequestAccepted,setFriendRequestAccepted] = useState(false);\n    const [isFriendRequestRejected,setFriendRequestRejected] = useState(false);\n    const acceptFriendRequest = async () => {\n        try {\n            const res = await api.patch(`friend/accept/${props.request.id}`);\n            setFriendRequestAccepted(true);\n            if(res.status === 200) {\n                window.alert(\"Friend Request Accepted\");\n            } else if(res.status === 500){\n                window.alert(\"Unable to Accept Friend request\");\n                setFriendRequestAccepted(false);\n            }\n        } catch(err) {\n            window.alert(err.message);\n            setFriendRequestAccepted(false);\n        }\n    }\n    const rejectFriendRequest = async () => {\n        try {\n            const res = await api.delete(`friend/reject/${props.request.id}`);\n            setFriendRequestRejected(true);\n            if(res.status === 200) {\n                window.alert(\"Friend Request Rejected\");\n            } else if(res.status === 500) {\n                window.alert(\"Unable to Reject Friend Request\");\n                setFriendRequestRejected(false);\n            }\n        } catch(err) {\n            window.alert(err.message);\n            setFriendRequestRejected(false);\n        }\n    }\n    return (\n        <div className='flex items-center justify-between p-2 border-b-2 border-grey-800'>\n            <div className='flex items-center'>\n                <Avatar className='mr-2'></Avatar>\n                <h1 className='mr-4'>{props.request.fullName}</h1>\n            </div>\n            {isRequestAccepted ? <div>\n                <Button disabled = {true} color = \"success\">Accepted</Button>\n                </div>\n                : isFriendRequestRejected ? <Button color='error' disabled=\"true\">Friend Request Rejected</Button> : <div>\n                <Button onClick={acceptFriendRequest} variant=\"contained\" className='mr-2'>Accept</Button>\n                <Button onClick={rejectFriendRequest} variant=\"contained\" color='error'>Reject</Button>\n            </div>}\n        </div>\n    )\n}\n\nexport default RecievedFriendRequests"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}